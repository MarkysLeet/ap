(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{3829:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return s(8970)}])},8970:function(e,a,s){"use strict";s.r(a);var t=s(5893),l=s(7294),n=s(1664),r=s.n(n),i=s(1163),o=s(3207),c=s(1286),h=s(5099),u=s(9033),d=s.n(u);a.default=()=>{let e=(0,i.useRouter)(),{register:a}=(0,c.a)(),{toast:s}=(0,h.pm)(),[n,u]=(0,l.useState)({firstName:"",lastName:"",phone:"",email:"",password:"",confirmPassword:""}),[m,p]=(0,l.useState)(""),[_,g]=(0,l.useState)(!1),[x,w]=(0,l.useState)(!1),handleChange=e=>{let{name:a,value:s}=e.target;u(e=>({...e,[a]:s}))};return(0,t.jsx)(o.Z,{title:"Регистрация — Avenue Professional",children:(0,t.jsx)("section",{className:d().section,children:(0,t.jsxs)("div",{className:d().card,children:[(0,t.jsx)("h1",{children:"Создать аккаунт"}),(0,t.jsx)("p",{className:d().subtitle,children:"Заполните данные, чтобы оформить персональный кабинет и сохранять избранное."}),(0,t.jsxs)("form",{className:d().form,onSubmit:t=>{if(t.preventDefault(),p(""),n.password!==n.confirmPassword){p("Пароли не совпадают");return}try{let t=[n.firstName,n.lastName].filter(Boolean).join(" ").trim();a({name:t||n.email,email:n.email,password:n.password,firstName:n.firstName,lastName:n.lastName,phone:n.phone}),s({type:"success",message:"Регистрация прошла успешно"});let{returnTo:l}=e.query,r="string"==typeof l?l:"/",i=r.startsWith("/")&&!r.startsWith("//")?r:"/";e.replace(i)}catch(e){p(e.message),s({type:"error",message:e.message})}},children:[(0,t.jsxs)("div",{className:d()["av-auth-grid"],children:[(0,t.jsxs)("label",{className:d().label,children:["Имя (необязательно)",(0,t.jsx)("input",{className:d().input,type:"text",name:"firstName",value:n.firstName,onChange:handleChange,placeholder:"Например, Анна"})]}),(0,t.jsxs)("label",{className:"".concat(d().label," ").concat(d()["av-label-nowrap"]," whitespace-nowrap leading-tight sm:text-base text-sm"),children:["Фамилия (необязательно)",(0,t.jsx)("input",{className:d().input,type:"text",name:"lastName",value:n.lastName,onChange:handleChange,placeholder:"Например, Иванова"})]})]}),(0,t.jsxs)("label",{className:d().label,children:["Телефон (необязательно)",(0,t.jsx)("input",{className:d().input,type:"tel",name:"phone",value:n.phone,onChange:handleChange,placeholder:"+7 (___) ___-__-__"})]}),(0,t.jsxs)("label",{className:d().label,children:["Email",(0,t.jsx)("input",{className:d().input,type:"email",name:"email",value:n.email,onChange:handleChange,placeholder:"you@example.com",required:!0})]}),(0,t.jsxs)("label",{className:"".concat(d().label," ").concat(d()["av-password-label"]),children:["Пароль",(0,t.jsxs)("div",{className:d()["av-password-field"],children:[(0,t.jsx)("input",{className:d().input,type:_?"text":"password",name:"password",value:n.password,onChange:handleChange,placeholder:"Минимум 6 символов",required:!0}),(0,t.jsx)("button",{type:"button",className:d()["av-password-toggle"],"aria-label":_?"Скрыть пароль":"Показать пароль","aria-pressed":_,onClick:()=>g(e=>!e),children:(0,t.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",children:_?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("path",{d:"M12 5c-7.633 0-11 7-11 7s3.367 7 11 7 11-7 11-7-3.367-7-11-7Zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10Z"}),(0,t.jsx)("path",{d:"m4.1 4.1 15.8 15.8"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("path",{d:"M1 12s3.6-7 11-7 11 7 11 7-3.6 7-11 7S1 12 1 12Z"}),(0,t.jsx)("circle",{cx:"12",cy:"12",r:"4"})]})})})]})]}),(0,t.jsxs)("label",{className:"".concat(d().label," ").concat(d()["av-password-label"]),children:["Подтверждение пароля",(0,t.jsxs)("div",{className:d()["av-password-field"],children:[(0,t.jsx)("input",{className:d().input,type:x?"text":"password",name:"confirmPassword",value:n.confirmPassword,onChange:handleChange,placeholder:"Повторите пароль",required:!0}),(0,t.jsx)("button",{type:"button",className:d()["av-password-toggle"],"aria-label":x?"Скрыть пароль":"Показать пароль","aria-pressed":x,onClick:()=>w(e=>!e),children:(0,t.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("path",{d:"M12 5c-7.633 0-11 7-11 7s3.367 7 11 7 11-7 11-7-3.367-7-11-7Zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10Z"}),(0,t.jsx)("path",{d:"m4.1 4.1 15.8 15.8"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("path",{d:"M1 12s3.6-7 11-7 11 7 11 7-3.6 7-11 7S1 12 1 12Z"}),(0,t.jsx)("circle",{cx:"12",cy:"12",r:"4"})]})})})]})]}),m?(0,t.jsx)("p",{className:d().error,children:m}):null,(0,t.jsx)("button",{type:"submit",className:d().submitButton,children:"Зарегистрироваться"})]}),(0,t.jsxs)("p",{className:d()["av-auth-note"],children:["Уже есть аккаунт?",(0,t.jsx)(r(),{className:d()["av-auth-link"],href:"/auth/login",children:"Войдите"})]})]})})})}},9033:function(e){e.exports={section:"AuthPage_section__sBYMH",card:"AuthPage_card__1wKZ6",subtitle:"AuthPage_subtitle__gLLS5",form:"AuthPage_form__FvPc_","av-auth-grid":"AuthPage_av-auth-grid__SROCX",label:"AuthPage_label__4fbG_","av-label-nowrap":"AuthPage_av-label-nowrap__o3Klx","av-password-label":"AuthPage_av-password-label__zHWo0",input:"AuthPage_input__vm_xU","av-password-field":"AuthPage_av-password-field__KWISn","av-password-toggle":"AuthPage_av-password-toggle__9ERkb","av-switch-row":"AuthPage_av-switch-row__Ec5ru","av-switch-hint":"AuthPage_av-switch-hint__qmuMB","av-auth-note":"AuthPage_av-auth-note__Qh5FP","av-auth-link":"AuthPage_av-auth-link__InduC",submitButton:"AuthPage_submitButton__oWhZJ",switch:"AuthPage_switch__wwNKJ",error:"AuthPage_error__TBugs",success:"AuthPage_success__q8NIN"}}},function(e){e.O(0,[998,207,774,888,179],function(){return e(e.s=3829)}),_N_E=e.O()}]);